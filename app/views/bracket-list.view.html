<div ng-controller="BracketListController" ng-show="doneLoading">
    <div ng-show="!currentUser">
        <h4><a href="#/signIn" class="btn btn-primary">Sign in</a> to keep track of your own brackets!</h4>
    </div>

    <div ng-show="currentUser">
        <table st-table="displayBracketList" st-safe-src="bracketList" class="table table-striped">
            <thead>
                <tr>
                    <th st-sort="id" class="hidden-xs">ID</th>
                    <th st-sort="name" st-skip-natural="true">Name</th>
                    <th class="hidden-xs">Desc</th>
                    <th st-sort="category">Category</th>
                    <th st-sort="format" class="hidden-xs">Format</th>
                    <th st-sort="createdBy" class="hidden-xs">Created By</th>
                    <th st-sort="createdOn" class="hidden-xs">Created On</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th colspan="9">
                        <input st-search placeholder="global search" class="input-sm form-control" type="search" />
                    </th>
                </tr>
                <tr st-select-row="bracket" st-select-mode="single" ng-repeat="bracket in displayBracketList">
                    <td ng-click="openBracket(bracket.id)" class="hidden-xs">{{bracket.id}}</td>
                    <td ng-click="openBracket(bracket.id)">{{bracket.name}}</td>
                    <td ng-click="openBracket(bracket.id)" class="hidden-xs">{{bracket.description}}</td>
                    <td ng-click="openBracket(bracket.id)">{{bracket.category}}</td>
                    <td ng-click="openBracket(bracket.id)" class="hidden-xs">{{bracket.format}}</td>
                    <td ng-click="openBracket(bracket.id)" class="hidden-xs">{{bracket.createdByDisplay}}</td>
                    <td ng-click="openBracket(bracket.id)" class="hidden-xs">{{bracket.createdOn | date:'shortDate'}}</td>
                    <td>
                        <a ng-click="shareBracket(bracket)"><i class="glyphicon glyphicon-share" title="Share"></i></a>
                        <a ng-click="printBracket(bracket)"><i class="glyphicon glyphicon-print" title="Print"></i></a>
                        <a confirmed-click="deleteBracket(bracket)" ng-confirm-click="Are you sure you want to delete this bracket? Cannot be undone"><i class="glyphicon glyphicon-trash" title="Delete"></i></a>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="5" class="text-center">
                        <div st-pagination="" st-items-by-page="10" st-displayed-pages="10"></div>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>
